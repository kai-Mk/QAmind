# Practice 8: 要件からのテスト設計

## 学習目標

- 要件定義からテスト観点を洗い出す力を身につける
- 「何をテストすべきか」を自分で考えられるようになる
- TDD（テスト駆動開発）の流れを体験する

## TDDの流れ

1. **Red** - まずテストを書く（この時点ではテストは失敗する）
2. **Green** - テストが通る最小限の実装を書く
3. **Refactor** - コードを整理する（テストが通ることを確認しながら）

## テスト観点の洗い出し方

要件を読んだら、以下の観点でテストケースを考えます：

1. **正常系**: 期待通りの入力で正しく動くか
2. **異常系**: 不正な入力でエラーが返るか
3. **境界値**: 条件の切り替わるポイント
4. **同値分割**: 同じ動作をするグループの代表値

## 演習: ポイント計算システム

以下の要件に基づいて、テストを先に書き、その後に実装してください。

### 要件定義

**ポイント計算システム**を実装してください。

#### 基本ルール

- 購入金額100円につき1ポイント付与
- 端数（100円未満）は切り捨て

#### 会員ランクによるボーナス

| ランク | ボーナス倍率        |
| ------ | ------------------- |
| normal | 1倍（ボーナスなし） |
| silver | 1.5倍               |
| gold   | 2倍                 |

#### 特別ルール

- 誕生月は追加で100ポイント付与
- 購入金額が0以下の場合はエラー

### 進め方

1. `practices/practice8/target.test.ts` にテストを書く
2. `practices/practice8/target.ts` に実装を書く
3. テストが通ることを確認する

### ポイント

- まず要件からテスト観点を洗い出す
- 正常系・異常系・境界値を漏れなくテストする
- 最初からすべて実装しようとせず、1つずつテスト→実装を繰り返す
